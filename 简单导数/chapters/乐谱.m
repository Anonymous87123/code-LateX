% ==========================================
% 作业 2: 乐谱识别特征提取与分类 MATLAB 代码 (完整版)
% ==========================================

[cite_start]% 1. 载入完整的 50 首曲目数据 [cite: 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204]
scores = {
    '1 7#_ 6#_ | 5#_ 6#_ 1| 5 6_ 5_| 1-|5 6_ 5_ |3_ 5_ 2|$5# 6#_ 1_ | 5#-|3_ 5_ 6_ 3_ | 5-| 6_ 5_ 3_ 1_|2-|2 2_ 3_| 5 5|$5_ 6 3_| 5-||$129'; % 乐谱1
    '6#_ 1_ 2_| 3. 5_ |3_ 1_ 2| 6#-| 0_ 1_ 2_ 3_| 5. 5_ 6 2| 3-- 3_ 5_|$6-|5. 6_| 1^_ 7__ 6__ 5_ 6_| 3 1_ 2_|3. 5_| 1 6# |1_ 2_ 3_ 6_ | 5---0||$110'; % 乐谱2
    '3_ 6_ 3_ 2_ | 3__ 2__ 1__ 7#__ 6#| 6_ 6__ 7__ 6__ 5__ 3__ 5__|6-|$6_ 6__ 7__ 6__ 5__ 3__ 5__| 6-| 6_ 6_ 2^_ 7_ |6_ 6_ 5_  5__3__|$6_ 6__ 7__ 6__ 5__ 3_| 2_. 3__ 5_ 5__ 3__| 2_ 3__ 5__ 3__ 2__ 1__ 7#__|6#-||$100'; % 乐谱3
    '5 5  3_ 5_ 3_ 2_ | 1_ 2_ 3_ 5_ 2-|5 5_ 6_ 1^ 3^|2^_ 3^_ 2^_ 1^_ 6-|$6_ 1^_ 2^_ 3^_ 1^_ 2^_ 1^_ 6_| 5 3_ 2_ 5-|3 5 6_ 1^_ 2^_ 3^_ 5--||$160'; % 乐谱4
    '5_ 5_ 4_ 4_ | 5_ 5_ 2|2_ 5_ 4_ 4_|6#_ 1_ 2_ |$4_ 2_ 2_ 4_|5 5_ 6_ |1^ 6_ 1^_| 1^_ 6_ 5| 5_ 6_ 5_ 4_ |2 2_ 5_|$5_ 2_ 4_ 3_ | 2_ 1__ 2__ 4_ 3_ | 6#_ 1_ 2_ 4_|2__ 1__ 6#__ 1__ 5#|6#_ 6#_ 5#||$160'; % 乐谱5
    '1 5#_. 5#__| 6#_ 5#_ 3 |1 0| 5 5_ 6_| 5_. 4__ 3_ 5_|2-|$1_ 2_ 3_ 0_|3_.6__ 5_ 4_| 3_ 2_ 3_ 0_|$5#_ 5#_ 5_ 5_|3. 5_| 3_ 5#_ 6#_ 2_ 1-||$120'; % 乐谱6
    '3_ 1^_ 7_ 6_| 5_ 4_ 3_ 2_|1_. 2__ 1_ 7#_.| 6#-| 6#_. 7#__ 1_ 2__ 2__|$3_. 3__ 3_ 3_|4_ 6__ 6__ 5_ 4_| 3-| 4_. 6__ 5_ 4__ 4__| 3_ 4__ 4__ 3_ 2_|$1_ 2__ 2__ 1_ 7#_|6#- |6_. 3__ 6_ 7_| 1^_. 7__ | 1^.7__ 1^._ 7 __ 7__|$6_ 6__ 5__ 4_ 3_ | 2-|3_.6__ 5_ 4__ 4__| 3_ 2_ 3_ 2_| 1_ 2__ 2__ 1_ 7#_| 6#-||$100'; % 乐谱7
    '3_ 5_ 5_ 5_ 6_ 1^_ 6_ 5_| 6__ 1^__ 1^__ 1^__ 1^_ 6__ 5__ 5-|$3^_ 3^_ 3^_ 3^_ 4^_ 3^_ 2^_ 1^_|2^__ 2^__ 2^__ 2^__ 2^_ 2^__ 3^__ 2^-|$3^_ 3^_ 3^__ 3^_ 3^__ 4^_ 3^_ 2^_ 1^_|6_ 1^_ 1^_ 6__ 5__ 5-|$3^_ 3^_ 3^__ 3^_ 3^__ 4^_ 3^_ 2^_ 1^1_|5__ 5__ 5__ 5__ 2^_ 7_ 1^-||$100'; % 乐谱8
    '1__ 1__|6 6__ 4 6_ |5__ 5__ 5__ 4__ 3__ 4__ 5 6__ 5__|$4_ 0_ 5__ 4__ 3_ 0_ 4__ 3__ |2__ 3__ 2__ 1__ 7#__ 1__ 2 1__ 1__|$6 6__ 4 6_|5__ 6__ 5__ 4__ 3__ 4__ 5 6__ 5__| 4_ 0_ 5__ 4__ 3_  0_ 4__ 3__|$2__ 3__ 2__ 1__ 7#__ 1-||$108'; % 乐谱9
    '5#__ 5#__|5#_ 5#_ 1__ 7#__ 1__ 2__|3_. 3__ 2__ 3__ 4_ |3_. 2__ 2__ 3__ 1__ 2__|1- 0_|$5#__ 5#__|5#_ 5#_ 1__ 7#__ 1__ 2__|3 2__ 3__ 4__ 4__|3_. 2__ 2__ 3__ 1__ 2__| 1- 0_|$3__ 4__|5_ 5_ 6__ 1^__ 5__ 6__| 5 3__ 5__ 3__ 2__| 1_ 2_ 1_ 6#_ |5# 0_ 1__ 2__|$3_ 4_ 3_ 2__ 5__ | 3 3__ 4__ 3__ 2__ 1_ 2_| 1--||$100'; % 乐谱10
    '6# 3 3_ 2_ 1_ 1_ 6#_ | 6#_ 7#_ 7#- 0|1_ 1_ 1_ 2_ 7#_ 6#_ 6#_ 5#_|$5#_ 3_ 3- 0 |3_ 3_ 3_ 4_ 2_ 3_ 1_ 3_|2_ 2_  0_ 3_ 2_ 1_ 7#_ 2_ |$1_ 1_ 1_ 7#_ 7#_ 6#_ 2_ 1_ 7#---||$80'; % 乐谱11
    '0_. 6__ 5__ 6__ 4__ 3__ |2- 2_. 3__ 1_ 1__ 2__ |3. 5_ 6_ 5_ 6__ 5__ 6__ 1^__|$5_.3__ 5_ 5__ 3__ 2_ 6_ 5__ 6__ 1__ 2__| 3. 5_ 2___.3____ 5___ 1^___ 6___ 2___ 3___ 5___|$1- 1^_ 6__ 1^__ 3^_ 3^__ 2^__| 1^_. 6__ 1^___.2^____ 3^___ 3^___ 2^_ 1^__. 1^___ 6___ 1^___ 2^___ 3^___| 5-||$50'; % 乐谱12
    '6# 3 3 2_ 3_| 5 6 1 6#|2 3_ 2_ 1 6#|2.3_ 5 1^|6---|$5 6 5 3_ 5_|5 6 1 6# | 1 _6#_ 1_ 5# 6#|2. 3__ 3__ 5 1| 6#---||$80'; % 乐谱13
    '5#_. 6#__ 1_ 1_| 3 1| 1-| 3#_ 5#__ 6#_ 6#_|$1 6#| 6#-| 3#_ 3#__ 3#__ 6#_ 6#_ |1 6#|$6#-||$60'; % 乐谱14
    '2 5| 5. 2__ 3__| 1 5#__ 6#__ 1_| 5#-| 1_. 1__ 6#_. 1_| 2 3_ 5_| 2---|$2 5|5. 2__ 3__| 1. 6#__ 1__| 6#-| 5#_. 5#__ 6#_ 1_| 2_ 3 6#_| 5#----||$90'; % 乐谱15
    '1^_ 7_ 6-| 2^_ 1^_ 5-| 6 6_. 3__ 2| 2_ 3_ 1^ 7| 6--|$6 6_. 7__  6_. 5__| 6 6-|3 5 5_. 6__| 1^ 6_ 7_ 6_ 5_| 6- -||$90'; % 乐谱16
    '6_ 6_ 5 4| 3--| 5 5 6| 4_ 3| 2--| 2 4 3| 2 1 7#|$1_ 3| 7#--|3 3 2| 1 2 3| 1_ 1_ 1 2| 2_ 3_ 1 7#|$6# --||$100'; % 乐谱17
    '3_ 3__ 3__ 3_ 7#__ 6#__| 5#. 3#_ | 6#_ 6#__ 1__ 7#__ 6#__ 5#_| 6#-|$6#_ 1_ 6#_|6_ 3__ 2__ 1_. 6#__ | 2_ 2__ 3__ 4_ 3__ 2__ | 2-||$70'; % 乐谱18
    '1__ 7#_ 1__ 2_ 5#_ |1__ 7#_ 1__ 2| 5__ 4_ 5__ 6_ 2_ |4__ 3__ 3__ 2__ 5|$5_ 6__ 7__ 1^_. 2^__|1^ 7__ 6__ 1^_ 5_|5_ 6__ 5__ 4|4_ 3__ 2__ 5__ 2_ 1__|$7#_ 1_ 2_. 3__| 1__ 2__ 6#_ 5#--||$52'; % 乐谱19
    '5 3 3 2-| 5 5_ 3_  3_ 2_ 1-| 1 3 2 6#-|2 1 7#_ 6#_ 5#-|$2 5 5 3-| 5 2 3_ 2_ 1-| 3 2_ 3_ 2_ 1_ 6#-|2 6# 7#_ 6#_ 5#-||$60'; % 乐谱20
    '6# 7#_ 1_ 2 3_ 2_| 1 1_ 7#_ 6#-|6# 7#_ 1_ 2 3_ 2_ |1_ 7#_ 1_ 2_ 3-|$6# 7#_ 1_ 2 3_ 2_| 1 1_ 7#_ 6#-|7# 7# 7#_ 1 7#_|6# 6#_ 5#_ 6#-||$100'; % 乐谱21
    '5_ 5_ 5| 5_ 5_ 5|3_ 5_ 6_ 5__ 3__| 2_ 3_ 5|$5_ 3_ 5_ 3__ 2__|1_ 3_ 2|3_ 3_ 2|6#_ 1_ 2| 6 6_ 5_| 3_ 6_ 5|$5_ 3_ 2_ 3_|5-||$ 120'; % 乐谱22
    '3 3_ 2_ 5. 2_| 3 1_ 7#_ 6#-| 3 3_ 6_ 5 2|3-- 0_ 6#_|$6# 3 3 3_ 3_| 2 7#_ 6#_ 5# 0_ 5#_| 6#_ 0_ 6#_ 7# 6#_ 5#_|6#---||$100'; % 乐谱23
    '5_ 5_ 6_ 5_| 3 5| 6_. 7__ 6_ 5_ |6-|1^_ 1^_ 6_ 1^_|5 3_ 2_| 3---|$5_ 5_ 6_ 5_|3 5| 3^_. 5^__ 3^_ 2^_|1^_. 3^__ 2^_ 1^_| 7 6_ 5_| 1^---||$100'; % 乐谱24
    '6#_ 6#_ 1_ 7#_| 6#. 0_| 6#_ 6#_ 3_ 2_| 3. 0_|$3_ 3_ 5_ 3_|2_ 2_ 1_ 7#__ 7#__|6# 0_ 5#_ |3#. 0_|$6#_ 6#_ 1_ 7#_| 6#. 0_| 6#_ 6#_ 3_ 2_|3. 0_|$3_ 3_ 5_ 3_ |2_ 2_ 2_ 1_| 7#_ 6#_ 6#_ 5#_| 6#-||$68'; % 乐谱25
    '5#__ 5#__| 1_ 1_ 2_ 2_ 3 2_ 3__ 4__| 3_ 1_ 2__ 1__ 7#__ 6#__ 7#_.5#__ 5#_ 5#__ 5#__|$1_ 1_ 2_ 3__ 4__ 5 6_ 5__ 6__|5_ 3_ 2_ 4_ 3 0_ 5#_|1_ 1__ 1__ 2_ 2_ 3 2_ 3__ 4__|$3_ 1_ 2__ 1__ 7#__ 6#__ 7#_.6#__ 5#_ 5#_ |1_ 1__ 1__ 2_ 3__ 4__ 5 2_ 3__ 4__|$3_ 1__ 1__ 2_ 7#_ 1-||$120'; % 乐谱26
    '5__ 6__ 5__ 3__ 5| 5__ 6__ 5__ 3__ 5| 5__ 6__ 5__ 3__ 5_ 5^_|$3^__ 4^__ 3^__ 2^__ 3^|2^__ 3^__ 2^__ 1^__ 2^_ 3^__ 5^__| 1^_ 0_ 1^_|$5^ 1^_ 2^_| 3^_ 4^__ 3^_ 2^_| 3^-- 5|5^ 2^_ 4^_|$3^_ 2^_ 2^_ 5^_|2^ 3^_. 5^__| 1^.||$90'; % 乐谱27
    '1^ 5 3_. 4__ 5| 1^ 2^_. 1^__ 6 5| 2 2_. 3__ 4 6| 5_. 4__ 3_ 2_ 3-|$1^_.1^__ 5 3_ 4_ 5_. 5__| 5 1^_. 2^__ 3^ 1^|2^_.2^__ 5^_ 4^_ 3^_ 2^_ 1^_ 7_|$6 7_ 1^_ 2^ -||$100'; % 乐谱28
    '2- | 6#_ 0_ 1---|6# 1_. 6__.| 5 6_. 1^__| 5-| 5_. 6__ 1^_ 7_|$6_. 1^__ 6_ 5_ | 3_.5__ 1^_ 6_| 5. 6_| 5_. 6__ 4__ 5__ 3__ 5__ |$1_ 6#__ 1__ 2_ 3__ 5__|6#_. 1__ 5_ 6_|3 3__ 0__ 3__ 5__|$2 3_ 5__ 6__| 1-||$60'; % 乐谱29
    '6_ 6 3_ 5__ 6__ 7__ 6__ 6| 3__ 5___ 6__ 1^__ 7__ 6__ 5_ 6- |$5_ 0__ 6__ 5_ 2_ 3__ 4__ 3__ 2__ 1_ 5__ 3__ |2__.3___  2__  1__ 7#__ 6#__  5#_ 6#-|$3_ 2 6#_ 2-| 3_ 6_ 6__ 5__ 3_ 3__ 5__ 2.|5_ 5_ 0_ 2_ 3__ 4__ 3__ 2__ 1||$78'; % 乐谱30
    '5_ 4_| 3. 3_ 1^_ 7_ |2- 4_ 4| 4. 6_ 6_ 5_ | 5- 3_ 5_| 3^.2^_ 2^_ 1^_|$6- 2_ 6_ | 5. 2_ 4_. 3__ | 3-  3_ 5_ | 3^. 2^_ 2^_ 1^_|6- 2_ 6_|$5. 7#_ 2_ 1_|1--||$80'; % 乐谱31
    '2_ 2_ | 1. 1_ 1_ 1_| 7#_ 2_ 2_| 2. 4#_ 4#_ 3#_| 3- 1_ 3_|5. 4_ 4_ 3_|$1- 2_ 2_ | 2. 2_ 2_. 1__ |1- 1_ 3_| 5_.4_ 4_ 2_ |1- 2_ 2_|$2. 7#_ 5#_ 7#_| 1--||$80'; % 乐谱32
    '1_. 6#__ 3_ 3__ 2__| 1_ 1_ 0_ 3_ | 6_ 5_ 3_ 3__ 5__| 2_ 2_  0|$1_ 1_. 2__|3_ 3__ 5__ 2_ 7#_| 6#-| 6#_ 2_ 2_. 2__ | 5 7#_ 6#_|$5#_. 6#__ 7#_ 6#_| 5#. 5#__ 5#__|3__ 6#__ 1_ 1__ 1__ | 3_ 2__ 3__ 1_ 0_|$3_ 3__ 6__ 5_ 5__ 3__|2_ 2__ 1__ 2_ 0_| 0_ 2_ 7#_ 6#_|$5_ 5 3_| 2_. 5__ 7_ 6_ |5. 3_| 2_.5__ 2_ 2__ 7#__| 6#_ 5#_ 7#_ 6#_| 5#---||$100'; % 乐谱33
    '6 5_ 3_ 5_ 6__ 6__ 1^| 5-- 5_ 1^_ | 1 2_ 3_ 6_. 1^__ 5| 3---|$5 6_. 5__|1^---  3_| 5_ 6_ 1^_ 1^_ 6 5_ 3_|3_ 2_ 1 3_ 2_ 6_ 5_| 1---||$108'; % 乐谱34
    '5#_ 1_| 3 3_ 3_ 3 2_ 3_ | 2_ 1. 0_ 5#_ 1_ |3 1_ 3_ 5 4_ 3_ | 2-- 5_ 4_|$3 3_ 2_ 1 2_ 3_ 5_ 4. 0_ 6#_ 6#_|5# 7#_ 1_ 2 3_ 2_ |1-- 0||$100'; % 乐谱35
    '3 4| 5. 5_ 6 5 |3-- 2| 1. 3_ 2 1| 6#-- 6#| 5#- 1 2|3 5 5 3| 2----|$0 3  4| 5. 5_ 6 5 | 3-- 2| 1. 3_ 2 1| 6#-- 6#|5#- 1. 3_| 2- 1 6#| 1----||$100'; % 乐谱36
    '3_ 2_ 3--| 2_ 3_ 4- 6| 5 3. 1_ 2| 3 6#--|$1_ 2_ 3. 3 2| 1 2- 1|2 3----- 0|$3 7- 1^| 7 6--| 4_ 5_ 6- 7| 2^ 1^--|$4 1^. 7_ 5_ 3_| 5- 5 3|6---||$100'; % 乐谱37
    '3_ 5_ 6__ 1^_ 7__ 7_ 7_ 5_ 6----|$6_ 7_ 1^__ 2^_ 1^__ 7_ 7_ 5_ 6----|$3__5__ 6_ 6_ 5__ 3__ 2_ 1_ 2_ 5__ |6_.5__ 2__ 3--|$5_ 5 5__ 6__ 3. 1_| 3 1_ 2_ 1_ 1-||$76'; % 乐谱38
    '1_ 1 2_ 3_ 2_ 3| 5_ 6_ 5_ 3_ 2-| 5_ 5_ 3_ 2_ 1_ 2_ 3|2_ 1_ 6#_ 1_ 5#-|$5#_ 6#_ 1 2 3|2_ 1_ 6#_ 5#_ 6#-|6#_ 2_ 1_ 6#_ 5#_ 6#_ 1_ 3_ | 2_ 1_ 6#_ 1_ 5#-||$52'; % 乐谱39
    '1^. 5^_ | 3^. 6_| 2^. 3^__ 6__ | 7. 6__ 2^__| 7__ 6__ 2^__ 7__ 6__ 2^__ 7__ 6__|$6.6_| 2. 6_ | 2 2__ 3__ 4__ 3__ | 2. 3___ 4___ 3___ 2___|2^ 2^__ 3^__ 4^__ 3^__|$2^__ 3^__ 4^__ 3^__ 2^__ 1^__ 7__ 6__ |7_ 2^_||$40'; % 乐谱40
    '6_ 7 6_ 6_ 3_ 5_ 6_| 6 3--| 2_ 3 2_ 2_ 6#_ 1_ 2_ |1_ 2_ 6#--|$1_ 2 3_ 3_ 6# 3_ |2-- 3_ 5_ | 6_ 7_ 6_ 7_ 6__ 7__ 3_ |5-- 5_ 6_|$1^-- 7__ 1^__ 7__ 6__|6-- 5|6_ 1 3_ 2_ 6#__ 1__ 7#_ 6#_| 6#_ 5#. 5#_ 6#_|$1. 6#_ 3. 2__ 3__| 2-- 3|7#_ 5#_ 3__ 2__ 7#_ 3_ 2__ 3__ 5#_|1_ 6#. 6#-|$1^_ 6. 6-|1^_ 2^. 1^_ 2^_ 1^__ 2^__ 6|1^_ 6. 6-| 6---||$80'; % 乐谱41
    '6#_ 3_ 3_ 2__ 3__ 1 7#_ 6#_| 0_ 1_ 7#__ 2__ 7#__ 6#__ 2_.3__ 2|$0 3_ 3_ 6_.7__ 5_ 6__ 7__| 6 3_, 4___ 3__ 2__ 2-|3_ 5_ 6#_ 1 7#_ 6#_|$0_ 1_ 7#__ 2__ 7#__ 6#__ 2__ 3__ 6#_ 1|$0 5#__ 6#__ 2__ 7#___ 2___ 6#.7#__ 2__ 7#__|6#---||$80'; % 乐谱42
    '1_. 2__ 7#_ 6#_ 3-| 1_.3__ 2_ 7#_ 6#-| 6- 6_. 5__ 3_ 2_|| 2---|$3_. 5__ 2_ 3_ 5-|3_.5__ 3_ 6#_ 1-| 7# 5 3_. 5__ 2_ 7#_| 6#_ 1_ 6#--|$1 1- 7#_ 6#_| 2_ 3_ 2- 3|6- 6_. 5__ 3_ 2_ 2 1--|7#_. 6#__ 5#_ 6#_ 1 7#_ 6#_|$2_. 3__ 5#_ 6#_ 1-|7# 5 3_.5__ 2_ 7#_| 6#_ 1_ 6#--||$80'; % 乐谱43
    '2 2# 2-| 1 2_ 1_ 6#-| 6#- 6# 1_ 2_ | 6#_.1__ 6#_ 5#_ 4# 4#_ 5#_|$6#- 6#-|1 2_ 1_ 6# 6#_ 2_ |1 2_ 1_ 6# 6#_ 1_ |2 2# 2-||$80'; % 乐谱44
    '1. 2_| 5_. 5__ 6_ 2_ |5-| 1^_. 2^__ 1^_ 6_ 5-|2 2_ 3_ | 5-|1^_ 6_ 1^_ 2^_|$5_ 1^_ 6__. 1^___ 6__ 5__| 5_ 3_ 5| 5_ 6_ 5_ 6_ | 5_ 3_ 2_.3__ | 5-||$60'; % 乐谱45
    '6_ 1^_ 2^_ 3^_| 3^_ 2^ 1^__ 6__| 3^_ 2^ 2^__ 1^__|6-|$6_ 1^_ 6_ 5_ |3_ 2_ 5_ 6_ |6-|6_ 5_ 3_ 2_ | 6#-|$6_ 2^_ 2^_ 6_ |3^_ 2^ 1^__ 6__|3^_ 2^ 2^__ 1^__| 6-|$6_ 1^_ 6_ 5_ | 3_ 2_ 5_ 6.|6_ 5_ 3_ 2_ | 6#---||$80'; % 乐谱46
    '3_ 2_ | 3-- 2__ 3__ 2__ 6#__| 1_ 6#_ 6#- 7#_ 6#_|$5#. 6#_ 7#_ 2_ 6#__ 7#__ 5#_|6#_ 3#- 6#__ 7#__ 6#__ 3#__|$5#-- 6#__ 7#__ 6#__ 2__ |1-- 2_ 3_|6. 7_ 2_. 3__ 5_ 4_|3_ 4_ 3--||$80'; % 乐谱47
    '1  1_ 6#_ 5#. 6#_ | 1---| 1 1_ 6#_ 5#. 6#_|2---|$3 1_ 6#_ 3 1_ 6#_|2.1_ 6#-|$4 4 6#_ 1.|2---|2 5# 7# 6#_ 7#_ |1---||$100'; % 乐谱48
    '6# 3_ 2_ 3 2_ 3_| 4_. 5__ 4_ 2_ 3. 0__ 3__|$4_ 4__ 3__ 2_ 1_ 2_ 2__ 1__ 2_ 3_|1_ 1__ 7#__ 6#_ 1_ 7#-|$6# 3_ 2_ 3 2_ 3_| 4_ 4__ 4__ 3_ 2_ 3-|$4_.3__ 2_ 1_ 2_. 1__ 2_ 3_| 7#_ 7#_ 6#_ 5#_ 6#-||$112'; % 乐谱49
    '6#__ 7#__| 1_ 1__ 1__ 1_ 1_ 7#_ 7#_2 _2_|6#-- 0_ 1__ 2__|$3_ 3__ 3__ 3_ 3_ 2_ 2__ 5__ 5| 5_ 3_ 3- 0_.3__|$1^_ 1^__ 1^__ 1^_ 1^_ 7_ 7_ 5__ 5_.| 4-- 0_ 6#__ 7#__|$1_ 1__ 1__ 1_ 1_ 7# 2_ 2_ |6#---||$90'; % 乐谱50
};

num_scores = length(scores);
features = zeros(num_scores, 4); % 设定 4 个特征维度

% 2. 特征提取循环
for i = 1:num_scores
    str = scores{i};
    len = length(str);
    
    % 特征 1：演奏速度 (寻找最后一个 '$' 后的数字)
    idx_dollar = strfind(str, '$');
    if ~isempty(idx_dollar)
        tempo_str = str(idx_dollar(end)+1:end);
        features(i, 1) = str2double(tempo_str);
    else
        features(i, 1) = 80; % 容错：若未提取到则用缺省值
    end
    
    % 特征 2：降调比例 '#' (体现音调向下偏移倾向)
    features(i, 2) = length(strfind(str, '#')) / len;
    
    % 特征 3：升调比例 '^' (体现音调向上偏移倾向)
    features(i, 3) = length(strfind(str, '^')) / len;
    
    % 特征 4：延长音比例 '-' (体现乐曲舒缓程度)
    features(i, 4) = length(strfind(str, '-')) / len;
end

% 3. 数据集划分与训练
% 根据题目：1-10为I类(打标签1), 101-110(在此数组里是11-20)为II类(打标签2)
train_X = features(1:20, :);
train_Y = [ones(10, 1); 2 * ones(10, 1)];

% 201-230 为待分类曲目 (即此数组里对应的 21-50)
test_X = features(21:end, :);

% 4. 训练支持向量机 (SVM) 进行二分类判别
% 这里使用线性核函数，并开启数据标准化以消除量纲差异带来的影响
svm_mdl = fitcsvm(train_X, train_Y, 'Standardize', true, 'KernelFunction', 'linear');

% 对后 30 首曲目进行预测
pred_Y_music = predict(svm_mdl, test_X);

% 5. 输出分类结果
fprintf('\n--- 乐谱识别方法判别结果 ---\n');
fprintf('使用特征：演奏速度、降调比例、升调比例、延长音比例\n');
fprintf('分类模型：Support Vector Machine (SVM)\n\n');

for i = 1:length(pred_Y_music)
    % 题目中原编号是从 201 开始的
    original_idx = 200 + i; 
    class_label = pred_Y_music(i);
    
    if class_label == 1
        class_str = 'I 类';
    else
        class_str = 'II类';
    end
    fprintf('曲目 %d : 被分类为 %s\n', original_idx, class_str);
end